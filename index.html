<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>3-Year Investor Mastery Dashboard</title>
    <style>
        :root { --primary: #2c3e50; --secondary: #27ae60; --gold: #d4af37; --accent: #3498db; --bg: #f4f7f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 0; }
        
        /* SPLASH SCREEN */
        #splash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; z-index: 10000; text-align: center; }
        .btn-start { padding: 15px 40px; border-radius: 30px; border: none; background: white; color: var(--secondary); font-weight: bold; cursor: pointer; margin-top: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }

        .container { max-width: 900px; margin: 20px auto; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; }
        .tab-nav { display: flex; background: var(--primary); }
        .tab-btn { flex: 1; padding: 20px; color: white; border: none; background: none; cursor: pointer; font-weight: bold; }
        .tab-btn.active { background: rgba(255,255,255,0.1); border-bottom: 4px solid var(--gold); }
        .tab-btn.disabled { opacity: 0.4; cursor: not-allowed; }

        .content { padding: 30px; display: none; }
        .content.active { display: block; }

        progress { width: 100%; height: 20px; accent-color: var(--secondary); margin-bottom: 20px; }
        
        .task-row { background: #fff; border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-radius: 12px; border-left: 5px solid var(--accent); }
        .task-main { display: flex; align-items: center; justify-content: space-between; }
        input[type="checkbox"] { transform: scale(1.4); margin-right: 15px; }
        
        .btn-video { background: #ff0000; color: white; text-decoration: none; padding: 5px 10px; border-radius: 5px; font-size: 12px; margin-right: 5px; }
        .btn-note { background: var(--accent); color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px; }

        /* GIFT BOX */
        .gift-container { display: none; margin-top: 10px; padding: 10px; background: #fffdf0; border: 1px dashed var(--gold); border-radius: 8px; text-align: center; }
        .gift-icon { font-size: 30px; cursor: pointer; }
        .gift-content { display: none; margin-top: 10px; text-align: left; font-size: 0.9rem; }
        .quote { color: var(--secondary); font-style: italic; font-weight: bold; display: block; }
        
        .lock-msg { background: #fff3cd; color: #856404; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px; }
        textarea { width: 100%; margin-top: 10px; display: none; padding: 10px; border-radius: 5px; border: 1px solid #ddd; }
    </style>
</head>
<body>

<div id="splash">
    <h1>JANGAN MENYERAH!!! üî•</h1>
    <p>"Investasi terbaik adalah investasi pada leher ke atas (ilmu)."</p>
    <button class="btn-start" onclick="startApp()">SAYA MULAI PERJALANAN 3 TAHUN</button>
</div>

<div class="container">
    <div class="tab-nav">
        <button class="tab-btn active" onclick="openYear(event, 'year1')">TAHUN 1</button>
        <button id="btn-y2" class="tab-btn disabled" onclick="openYear(event, 'year2')">TAHUN 2 üîí</button>
        <button id="btn-y3" class="tab-btn disabled" onclick="openYear(event, 'year3')">TAHUN 3 üîí</button>
    </div>

    <div style="padding: 20px; text-align: center;">
        <progress id="mainProgress" value="0" max="100"></progress>
        <p id="progressLabel">Progress Belajar: 0%</p>
    </div>

    <div id="year1" class="content active">
        <h3>Tahun 1: Membangun Literasi & Psikologi</h3>
        <div id="tasks-y1"></div>
    </div>

    <div id="year2" class="content">
        <div id="lock2" class="lock-msg">üîí Terbuka setelah 180 hari & Validasi Mindset Tahun 1.</div>
        <div id="body-y2" style="display:none">
            <h3>Tahun 2: Analisis Fundamental & Valuasi Lanjutan</h3>
            <div id="tasks-y2"></div>
        </div>
    </div>

    <div id="year3" class="content">
        <div id="lock3" class="lock-msg">üîí Terbuka setelah 360 hari & Validasi Mindset Tahun 2.</div>
        <div id="body-y3" style="display:none">
            <h3>Tahun 3: Portofolio Management & Financial Freedom</h3>
            <div id="tasks-y3"></div>
        </div>
    </div>
</div>

<script>
    // DATA MATERI 3 TAHUN
    const curriculum = {
        year1: [
            { t: "M1: Apa itu Saham & Logika Bisnis", q: "Selalu konsisten!", u: "Saham adalah bukti kepemilikan perusahaan nyata.", v: "tQXX-npOeUY" },
            { t: "M2: High Risk High Return & Uang Dingin", q: "Ketenangan adalah kunci.", u: "Gunakan uang yang tidak akan dipakai dalam 5 tahun.", v: "MXj1oSUEVv8" },
            { t: "M3: Perbedaan Investasi vs Judi", q: "Gunakan data, bukan insting.", u: "Investasi punya aset dasar, judi hanya spekulasi.", v: "7enFJSZgqE0" },
            { t: "M4: Mengenal 11 Sektor di BEI", q: "Pahami medannya!", u: "Beda sektor, beda karakter bisnisnya.", v: "ir625-6bSSI" }
        ],
        year2: [
            { t: "M13: Valuasi PER & PBV", q: "Beli murah, jual mahal.", u: "Harga wajar ditentukan oleh laba dan aset.", v: "tQXX-npOeUY" },
            { t: "M14: Membaca Laporan Tahunan", q: "Kenali nakhodanya.", u: "Annual report adalah jendela masa depan perusahaan.", v: "AtL8aVvgK4U" }
        ],
        year3: [
            { t: "M25: Strategi Diversifikasi", q: "Jangan taruh semua telur di satu keranjang.", u: "Bagi risiko ke beberapa sektor berbeda.", v: "tQXX-npOeUY" },
            { t: "M36: Rencana Financial Freedom", q: "Selamat! Kamu hampir sampai.", u: "Hidup dari dividen adalah tujuan akhir.", v: "tQXX-npOeUY" }
        ]
    };

    const KEYS = { year2: "saham adalah bisnis", year3: "sabar adalah kunci" };

    function startApp() {
        if (!localStorage.getItem('studyStart')) localStorage.setItem('studyStart', new Date().getTime());
        document.getElementById('splash').style.display = 'none';
        renderTasks();
        checkLocks();
    }

    function renderTasks() {
        ['year1', 'year2', 'year3'].forEach(year => {
            const container = document.getElementById('tasks-' + year);
            if (!container) return;
            container.innerHTML = curriculum[year].map((item, i) => `
                <div class="task-row">
                    <div class="task-main">
                        <div><input type="checkbox" class="cb" onchange="update()"> <b>${item.t}</b></div>
                        <div>
                            <a href="https://www.youtube.com/watch?v=${item.v}" target="_blank" class="btn-video">üì∫ Video</a>
                            <button class="btn-note" onclick="toggle('n-${year}-${i}')">üìù Catatan</button>
                        </div>
                    </div>
                    <div class="gift-container" id="g-${year}-${i}">
                        <div class="gift-icon" onclick="toggle('gc-${year}-${i}')">üéÅ</div>
                        <div id="gc-${year}-${i}" class="gift-content">
                            <span class="quote">"${item.q}"</span>
                            <p><b>Pemahaman:</b> ${item.u}</p>
                        </div>
                    </div>
                    <textarea id="n-${year}-${i}" oninput="save()"></textarea>
                </div>
            `).join('');
        });
        loadData();
    }

    function toggle(id) {
        const el = document.getElementById(id);
        el.style.display = (el.style.display === 'block') ? 'none' : 'block';
    }

    function update() {
        const total = document.querySelectorAll('.cb').length;
        const checked = document.querySelectorAll('.cb:checked').length;
        const percent = Math.round((checked / total) * 100);
        document.getElementById('mainProgress').value = percent;
        document.getElementById('progressLabel').innerText = `Progress Belajar: ${percent}%`;

        document.querySelectorAll('.cb').forEach((cb, i) => {
            const gift = document.querySelectorAll('.gift-container')[i];
            gift.style.display = cb.checked ? 'block' : 'none';
        });
        save();
    }

    function openYear(evt, id) {
        const start = parseInt(localStorage.getItem('studyStart'));
        const days = Math.floor((new Date().getTime() - start) / (1000 * 60 * 60 * 24));
        const limit = id === 'year2' ? 180 : (id === 'year3' ? 360 : 0);

        if (days < limit) {
            alert(`Terkunci! Kurang ${limit - days} hari lagi.`);
            return;
        }

        if (id !== 'year1' && !localStorage.getItem(id + '_ok')) {
            let ans = prompt(`Masukkan Kunci Mindset untuk ${id}:`);
            if (ans && ans.toLowerCase() === KEYS[id]) {
                localStorage.setItem(id + '_ok', 'true');
            } else { alert("Mindset salah!"); return; }
        }

        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        evt.currentTarget.classList.add('active');
    }

    function checkLocks() {
        const start = parseInt(localStorage.getItem('studyStart'));
        const days = Math.floor((new Date().getTime() - start) / (1000 * 60 * 60 * 24));
        if (days >= 180) { document.getElementById('btn-y2').classList.remove('disabled'); document.getElementById('lock2').style.display='none'; document.getElementById('body-y2').style.display='block'; }
        if (days >= 360) { document.getElementById('btn-y3').classList.remove('disabled'); document.getElementById('lock3').style.display='none'; document.getElementById('body-y3').style.display='block'; }
    }

    function save() {
        const data = Array.from(document.querySelectorAll('.cb')).map((cb, i) => ({ c: cb.checked, n: document.querySelectorAll('textarea')[i].value }));
        localStorage.setItem('saham_3yr_db', JSON.stringify(data));
    }

    function loadData() {
        const saved = JSON.parse(localStorage.getItem('saham_3yr_db'));
        if (saved) {
            document.querySelectorAll('.cb').forEach((cb, i) => {
                if (saved[i]) {
                    cb.checked = saved[i].c;
                    document.querySelectorAll('textarea')[i].value = saved[i].n;
                }
            });
            update();
        }
        if (localStorage.getItem('studyStart')) { document.getElementById('splash').style.display = 'none'; checkLocks(); }
    }
    window.onload = startApp;
</script>
</body>
</html>

    function tn(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    function update() {
        const cbs = document.querySelectorAll('.cb');
        const checked = document.querySelectorAll('.cb:checked').length;
        const total = cbs.length;
        const percent = Math.round((checked / total) * 100);
        
        document.getElementById('bar').style.width = percent + '%';
        document.getElementById('percent-text').innerText = percent + '% Selesai';

        // LOGIKA UNLOCK
        // Jika Kuartal 1 (index 0 & 1) selesai, buka Kuartal 2
        const q1Tasks = document.querySelectorAll('#qc1 .cb');
        const q1Done = Array.from(q1Tasks).every(c => c.checked);
        
        if (q1Done) {
            document.getElementById('q2').classList.remove('locked');
            document.getElementById('q2').style.pointerEvents = 'auto';
        } else {
            document.getElementById('q2').classList.add('locked');
        }

        save();
    }

    function save() {
        const data = Array.from(document.querySelectorAll('.cb')).map((c, i) => ({
            c: c.checked,
            n: document.querySelectorAll('textarea')[i].value
        }));
        localStorage.setItem('mastery3yr', JSON.stringify(data));
    }

    function load() {
        const saved = JSON.parse(localStorage.getItem('mastery3yr'));
        if (saved) {
            const cbs = document.querySelectorAll('.cb');
            const txts = document.querySelectorAll('textarea');
            saved.forEach((item, i) => {
                if(cbs[i]) cbs[i].checked = item.c;
                if(txts[i]) txts[i].value = item.n;
            });
            update();
        }
    }

    window.onload = load;
</script>

</body>
</html>
                    <li><input type="checkbox"> Menghitung Risk to Reward</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="quarter">
        <h2 class="quarter-title" style="background: #e74c3c;">Kuartal 4: Portofolio & Review</h2>
        <p><i>Fokus: Menyusun "Keranjang" saham sendiri dan evaluasi.</i></p>
        <div class="month-grid">
            <div class="month-card">
                <h3>Bulan 10-12</h3>
                <ul>
                    <li><input type="checkbox"> Diversifikasi vs Konsentrasi</li>
                    <li><input type="checkbox"> Cara Rebalancing Portofolio</li>
                    <li><input type="checkbox"> Review Kinerja 1 Tahun</li>
                    <li><input type="checkbox"> Menyusun Plan Tahun ke-2</li>
                </ul>
            </div>
        </div>
    </div>

</div>

<script>
    // Script sederhana untuk progres bar
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const progressBar = document.getElementById('file');
    
    checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
            const checked = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const total = checkboxes.length;
            progressBar.value = (checked / total) * 100;
        });
    });
</script>

</body>
</html>

